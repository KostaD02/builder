@let pageItem = item();
@if (pageItem) {
  @let controls = settings();
  @for (item of controls; track $index) {
    @if (item === componentEditType.Text) {
      <ng-container *ngTemplateOutlet="templateTextSettings"></ng-container>
    }
  } @empty {
    <div>No controls</div>
  }
  <div class="actions">
    <button mat-button (click)="resetToDefaultContent()">Reset</button>
  </div>
}

<ng-template #templateTextSettings>
  <form [formGroup]="fontThemeForm" class="edit-menu-content-item pb-0">
    <mat-form-field>
      <mat-label>Font theme</mat-label>
      <mat-select
        formControlName="fontTheme"
        (selectionChange)="handleFontThemeChange($event)"
      >
        @for (option of fontThemes; track $index) {
          <mat-option [value]="option.token">
            {{ option.name }}
          </mat-option>
        }
      </mat-select>
    </mat-form-field>
  </form>
  <div class="edit-menu-content-item">
    <ul>
      <li>
        <button mat-icon-button [matMenuTriggerFor]="matBoldMenu">
          <mat-icon>format_bold</mat-icon>
        </button>
        <mat-menu #matBoldMenu="matMenu">
          @for (option of boldOptions; track $index) {
            <button mat-menu-item (click)="handleBoldSelect(option)">
              <span>{{ option }}</span>
            </button>
          }
        </mat-menu>
      </li>
      @for (item of formatTextOptions; track $index) {
        <li>
          <button mat-icon-button (click)="handleFormatText(item.option)">
            <mat-icon>{{ item.icon }}</mat-icon>
          </button>
        </li>
      }
      <li>
        <builder-color-picker
          [color]="pageItem?.content?.style?.color"
          (selectedColor)="handleColorSelect($event)"
        />
      </li>
    </ul>
  </div>
</ng-template>
